# GCC Help: Cache

## Introduction

The cache is a temporary place to store information, which:

* is *expensive* (time-consuming) to query the spreadsheet for
* needs to be accessible from different parts of the application.

In GCC, the Apps Script [PropertiesService](https://developers.google.com/apps-script/reference/properties) is used to store this information.

## Contents of the Cache

The following information is stored in the cache:

### `GccCollection`

#### Volumes and Date Flags

Unique variations of a list of labels and options, which appear under the date in the spreadsheet and under *Select Compost Amount*  in the app.

Generated by merging each collection's `Quantity` and `Container` values with the following named ranges:

* `NRContainerTypes`
* `NRContainerCapacities`
* `NRDateFlags`
* `NRNonVolumes`

### `GccContainer`

#### Container object

Unique variations.

Generated from each collection's `Type` and `Quantity` values.

### `GccRun`

#### Run object

Configured properties for each run, plus the `runBounds`, which determine which rows and columns each run uses in the spreadsheet.

Generated from `Config.js` and evaluation of the spreadsheet structure.

### `GccRunGroup`

#### Run Group object

Configured properties for each run group (sheet), including the `dateHeaders`, which determine which spreadsheet columns contain date-based collection information.

Generated from `Config.js` and evaluation of the spreadsheet structure.

### `GccSheet`

#### Named Range values

The contents of the various rows and columns marked as *Named Ranges* in the spreadsheet.

Managed in: *Spreadsheet > Data > Named Ranges*.

#### Column Indices

The indices (number positions) of spreadsheet columns containing specific text.

Generated from `Config.js` and evaluation of the spreadsheet structure.

### `GccUtils`

#### App Config

The configuration file provided by the person who set up the app.

Generated by merging `Config.js` with other configuration options accessible only to developers.

## Viewing the Cache

*Cache > View Cache* displays the contents of the cache in a *modal* (pop-up window).

The data is formatted as *JSON* (JavaScript Object Notation), which groups *properties* (labels) with their current *values*.

## Emptying the Cache

*Cache > Clear Cache* deletes all data from the cache.

Do this after changing the spreadsheet or if the app and spreadsheet don't match up anymore due to the cached data being *stale* (out of date).

After clearing the cache, you will need to restart the app (or refresh the spreadsheet) so that GCC can reinitialise with fresh data.
